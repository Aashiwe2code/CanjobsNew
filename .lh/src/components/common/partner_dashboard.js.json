{
    "sourceFile": "src/components/common/partner_dashboard.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1714023993280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1714023993280,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\nimport CustomButton from \"../common/button\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport AddAgent from \"../forms/admin/addAgent\";\nimport {/*GetFilter*/DeleteAgent } from \"../../api/api\";\n// import AgentTable from \"../common/agentTable\";\nimport AdminSidebar from \"../admin/sidebar\";\nimport AdminHeader from \"../admin/header\";\nimport PartnerPage from \"./partner_page\";\nimport PartnerTAble from \"./PartnerTAble\";\nimport SAlert from \"../common/sweetAlert\";\nimport { toast } from \"react-toastify\";\n// import FilterJson from \"../json/filterjson\";\nfunction PartnerDashboard() {\n  /*Show modal states */\n  let [apiCall, setApiCall] = useState(false);\n  let [showAddEAgentModal, setShowAgentMOdal] = useState(false);\n  /*data and id states */\n  let [agentId, setAgentId] = useState();\n\n  /*delete state */\n  const [deleteAlert, setDeleteAlert] = useState(false);\n  const [deleteId, setDeleteID] = useState();\n  const [deleteName, setDeleteName] = useState(\"\");\n  /*Filter and search state */\n  //   const [experienceFilterValue, setExperienceFilterValue] = useState(\"\");\n  //   const [skillFilterValue, setSkillFilterValue] = useState(\n  //     /*props ? props.skill : */ \"\"\n  //   );\n  const [pageNo, setpageNo] = useState(1);\n  //   const [educationFilterValue, setEducationFilterValue] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [searcherror, setSearchError] = useState(\"\");\n  //   let [SkillList, setSkillList] = useState([]);\n  //   let [EducationList, setEducationList] = useState([]);\n  let user_type = localStorage.getItem(\"userType\");\n\n  /* Function to show the single data to update Employee*/\n  const EditAgent = (e) => {\n    setShowAgentMOdal(true);\n    setAgentId(e);\n    console.log(e)\n  };\n  /*Function to search the agent */\n  const onSearch = (e) => {\n    const inputValue = e.target.value;\n    setSearch(inputValue);\n    // setpageNo(1);\n    if (inputValue.length > 0) {\n      if (/[-]?\\d+(\\.\\d+)?/.test(inputValue.charAt(0))) {\n        setSearchError(\"Partner Name cannot start with a number.\");\n      } else if (!/^[A-Za-z0-9 ]*$/.test(inputValue)) {\n        setSearchError(\"Cannot use special characters.\");\n      } else {\n        setSearchError(\"\");\n      }\n    } else {\n      setSearchError(\"\");\n    }\n  };\n\n  /*To Show the delete alert box */\n  const ShowDeleteAlert = (e) => {\n    setDeleteID(e.id);\n    setDeleteName(e.name);\n    setDeleteAlert(true);\n  };\n\n  //   /*To cancel the delete alert box */\n  const CancelDelete = () => {\n    setDeleteAlert(false);\n  };\n\n\n  /*To call Api to delete employee */\n  async function OnDeleteAgent(e) {\n    try {\n      const responseData = await DeleteAgent(e);\n      if (responseData.message === \"successfully\") {\n        toast.error(\"Partner deleted Successfully\", {\n          position: toast.POSITION.TOP_RIGHT,\n          autoClose: 1000,\n        });\n        setDeleteAlert(false);\n        setApiCall(true);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  return (\n    <>\n      <div className={\"site-wrapper overflow-hidden bg-default-2\"}>\n        {/* <!-- Header Area --> */}\n        <AdminHeader\n          heading={\n            user_type === \"agent\" ? \"Partner Dashboard\" : \"Manage Partner\"\n          }\n        />\n        {/* <!-- navbar- --> */}\n        <AdminSidebar\n          heading={\n            user_type === \"agent\" ? \"Partner Dashboard\" : \"Manage Partner\"\n          }\n        />\n        <ToastContainer />\n        {/* <!--Add Adgent Details Modal --> */}\n\n        <div className={\"dashboard-main-container mt-16\"} id=\"dashboard-body\">\n          <div className=\"container-fluid\">\n            <div className=\"mb-18\">\n              <div\n                className={\n                  user_type === \"agent\" ? \"d-none\" : \"mb-4 align-items-center\"\n                }\n              >\n                <div className=\"page___heading\">\n                  <h3 className=\"font-size-6 mb-0\">Partner's</h3>\n                </div>\n                {/* <!-- Agent Search and Filter- --> */}\n                <div className=\"row m-0 align-items-center\">\n                  <div className={\"col p-1 form_group\"}>\n                    <p className=\"input_label\">Search Partner:</p>\n                    <input\n                      required\n                      type=\"text\"\n                      className=\"form-control\"\n                      placeholder={\"Search Partner\"}\n                      value={search}\n                      name={\"Agent_name\"}\n                      onChange={(e) => onSearch(e)}\n                    />\n                  </div>\n                  <div className=\"col px-1 form_group mt-4 text-right\">\n                    <CustomButton\n                      className=\"font-size-3 rounded-3 btn btn-primary border-0\"\n                      onClick={() => EditAgent(\"0\")}\n                      title=\"Add Partner\"\n                    >\n                      Add Partner\n                    </CustomButton>\n                  </div>\n                </div>\n                <small className=\"text-danger\">{searcherror}</small>\n              </div>\n              <div className=\"row\">\n                {/* <!-- Agent List Table- --> */}\n                <div className={\"col-md-12\"}>\n                  {user_type === \"admin\" ?\n                    <PartnerTAble\n                      search={search}\n                      apiCall={apiCall}\n                      setApiCall={setApiCall}\n                      pageNo={pageNo}\n                      setpageNo={setpageNo}\n                      EditAgent={EditAgent}\n                      user={user_type}\n                      ShowDeleteAlert={ShowDeleteAlert} />\n\n                    : <PartnerPage\n                      // showEmployeeProfile={showEmployeeProfile}\n                      // employeeDetails={employeeDetails}\n                      search={search}\n                      // experienceFilterValue={experienceFilterValue}\n                      // educationFilterValue={educationFilterValue}\n                      // skillFilterValue={skillFilterValue}\n                      apiCall={apiCall}\n                      setApiCall={setApiCall}\n                      pageNo={pageNo}\n                      setpageNo={setpageNo}\n                      EditAgent={EditAgent}\n                      user={user_type}\n                      ShowDeleteAlert={ShowDeleteAlert}\n                    />}\n                </div>\n              </div>\n              {showAddEAgentModal ? (\n                <AddAgent\n                  show={showAddEAgentModal}\n                  agentId={agentId}\n                  apiCall={apiCall}\n                  setApiCall={setApiCall}\n                  close={() => setShowAgentMOdal(false)}\n                />\n              ) : null}\n            </div>\n          </div>\n        </div>\n      </div>\n      <SAlert\n        show={deleteAlert}\n        title={deleteName}\n        text=\"Are you Sure you want to delete !\"\n        onConfirm={() => OnDeleteAgent(deleteId)}\n        showCancelButton={true}\n        onCancel={CancelDelete}\n      />\n    </>\n  );\n}\n\nexport default PartnerDashboard;\n"
        }
    ]
}